# Project Scoping & Phased Development

## MVP Strategy & Philosophy

### 選定的 MVP 策略

**主要策略：問題解決 MVP**
- 專注解決 Amy 的核心痛點：從手動數據錄入中解放
- 最小可行範圍驗證 AI 提取和分類的可行性
- 快速獲得用戶反饋，迭代優化

**次要策略：體驗 MVP**
- 提供流暢的審核體驗
- 信心度機制讓用戶感受到 AI 的價值

### MVP 成功定義

> **Amy 說：**「我不用再一張一張打開 PDF 抄數據了，系統已經幫我做好，我只要確認一下就可以了！」

### 資源配置

| 資源類型 | 配置 | 說明 |
|---------|------|------|
| **核心開發團隊** | 3 人全職 | 前端 + 後端 + AI/數據 |
| **n8n 工作流** | 內部人員 | 兼職配置和維護 |
| **外部資源** | 無 | 全部內部開發 |
| **業務支援** | Amy + Kevin | 提供測試數據和反饋 |

## Development Phases

### Phase 0: 數據分析與準備

**狀態：** 🔴 尚未開始

**目標：** 為 MVP 建立數據基礎和技術驗證

| 工作項目 | 說明 | 產出 |
|---------|------|------|
| **歷史文件分析** | 分析過去 12 個月的發票 | 文件類型分佈報告 |
| **Forwarder 識別** | 識別並分類所有 Forwarder | Top 10 Forwarder Profile |
| **Universal Mapping** | 建立初始通用映射規則 | ≥ 300 條核心規則 |
| **黃金標準數據集** | 標註測試發票 | 500-1000 張已標註發票 |
| **技術 POC** | 驗證 Azure DI + OpenAI | 可行性報告 |
| **基礎架構** | 搭建開發環境 | 開發/測試環境就緒 |

**Phase 0 完成標準：**
- [ ] Top 10 Forwarder Profile 完成
- [ ] 300+ 條 Universal Mapping 規則
- [ ] 500+ 張黃金標準測試數據
- [ ] Azure 服務 POC 通過
- [ ] 開發環境就緒

---

### MVP 0.5: 快速驗證

**目標：** 驗證核心 AI 提取和分類能力

**範圍確認：** ✅

| 功能 | 包含 | 說明 |
|------|------|------|
| **OCR 提取** | ✅ | Azure Document Intelligence |
| **AI 分類** | ✅ | 2 層映射架構（Universal + Forwarder-Specific） |
| **基本審核界面** | ✅ | 確認/修正功能 |
| **手動上傳** | ✅ | 單張/批量上傳 |
| **Excel 導出** | ✅ | 標準格式導出 |
| **基本監控** | ✅ | 處理狀態追蹤 |

**MVP 0.5 不包含：**
- ❌ SharePoint/Outlook 整合
- ❌ Azure AD SSO（使用簡單登入）
- ❌ 信心度顯示（後台計算但不展示）
- ❌ 多城市支援
- ❌ 完整報表功能
- ❌ 學習機制

**試用配置：**

| 項目 | 配置 |
|------|------|
| **試用人數** | 約 5 人（香港團隊） |
| **試用期間** | 2-4 週 |
| **測試數據** | 過去 1 年的歷史發票 |

**MVP 0.5 → MVP 1.0 決策標準：**

| 指標 | 目標 | 說明 |
|------|------|------|
| **提取成功率** | ≥ 90% | 文件能被成功處理 |
| **分類準確率** | ≥ 90% | 與黃金標準一致 |
| **用戶接受度** | 正面反饋 | 5 位試用者認可價值 |

```
MVP 0.5 決策點
     │
     ├── 達標（≥90% 成功率 + 準確率）
     │        ↓
     │   進入 MVP 1.0 開發
     │
     └── 未達標
              ↓
         分析原因，優化後重測
         • 規則不足 → 補充規則
         • AI 效果不佳 → 調整模型/Prompt
         • 特定 Forwarder 問題 → 針對性修復
```

---

### MVP 1.0: 完整試行

**目標：** 香港團隊全面採用

| 功能 | 包含 | 說明 |
|------|------|------|
| **信心度顯示** | ✅ | 分層審核流程 |
| **SharePoint 整合** | ✅ | 自動獲取文件 |
| **Outlook 整合** | ✅ | 郵件附件處理 |
| **Azure AD SSO** | ✅ | 企業級登入 |
| **基本儀表板** | ✅ | 處理統計和 KPI |
| **Forwarder 管理** | ✅ | Profile 查看和編輯 |
| **審計日誌** | ✅ | 完整操作記錄 |
| **n8n 基本整合** | ✅ | 工作流觸發和監控 |

**MVP 1.0 試行配置：**

| 項目 | 配置 |
|------|------|
| **用戶數** | 香港全部相關人員（~10-15 人） |
| **試行期間** | 4-6 週 |
| **目標** | 100% 香港發票經過系統處理 |

**MVP 1.0 成功標準：**

| 指標 | 目標 |
|------|------|
| **自動化率** | ≥ 90% |
| **準確率** | ≥ 90% |
| **用戶採用率** | 100%（香港團隊） |
| **處理效率提升** | ≥ 70% |

---

### MVP 1.5: 優化擴展

**目標：** 優化系統並準備多城市擴展

| 功能 | 包含 | 說明 |
|------|------|------|
| **學習機制** | ✅ | 第 3 層映射開始運作 |
| **多城市架構** | ✅ | 數據隔離 + RLS |
| **進階報表** | ✅ | 分析報表和趨勢 |
| **使用量追蹤** | ✅ | 成本分攤基礎 |
| **對外 API** | ✅ | 基本版本 |
| **效能優化** | ✅ | 批量處理能力提升 |

---

## Post-MVP Features（Phase 2+）

### Phase 2: 區域擴展

| 功能 | 優先級 | 說明 |
|------|--------|------|
| **5 城市部署** | 高 | 新加坡、上海、深圳、廣州、台北 |
| **Top 30 Forwarder** | 高 | 擴展 Forwarder 覆蓋 |
| **自定義角色** | 中 | 靈活權限配置 |
| **成本分攤報表** | 中 | 城市級成本報告 |
| **多模態 AI 全面啟用** | 中 | 困難案例自動觸發 |

### Phase 3: 全面覆蓋

| 功能 | 優先級 | 說明 |
|------|--------|------|
| **11 城市全部部署** | 高 | APAC 全覆蓋 |
| **全部 Forwarder** | 高 | 45+ Forwarder |
| **高級分析** | 中 | 供應商比較、異常檢測 |
| **Snowflake 整合** | 低 | 數據倉庫分析 |

### 長期願景

| 功能 | 時間軸 | 說明 |
|------|--------|------|
| **全球擴展** | Year 2+ | APAC → 全球 |
| **98%+ 準確率** | Year 2+ | 極少人工介入 |
| **供應商績效評估** | Year 2+ | 議價建議 |
| **Forwarder 直接對接** | Year 3+ | EDI/API 整合 |

## Risk Mitigation Strategy

### 技術風險

| 風險 | 影響 | 機率 | 緩解策略 |
|------|------|------|---------|
| **Azure DI 準確率不足** | 高 | 中 | Phase 0 POC 驗證；準備多模態備案 |
| **規則維護複雜** | 中 | 中 | 3 層架構降低規則數量 |
| **n8n 整合困難** | 低 | 低 | 已有自架服務器，團隊熟悉 |
| **效能瓶頸** | 中 | 低 | 雲端架構可橫向擴展 |

### 市場/業務風險

| 風險 | 影響 | 機率 | 緩解策略 |
|------|------|------|---------|
| **用戶抵觸變更** | 高 | 中 | 早期參與、漸進推廣、培訓支援 |
| **業務流程變化** | 中 | 低 | 設計靈活的規則機制 |
| **Forwarder 格式變化** | 中 | 高 | 學習機制 + Super User 維護 |

### 資源風險

| 風險 | 影響 | 機率 | 緩解策略 |
|------|------|------|---------|
| **人員離職** | 高 | 中 | 文檔完善、知識分享 |
| **開發進度延遲** | 中 | 中 | 分層 MVP、靈活調整範圍 |
| **預算超支** | 中 | 低 | AI API 成本監控、預算告警 |

### 最小可行團隊

如果資源受限，最小可行配置：

| 角色 | 最小配置 | 說明 |
|------|---------|------|
| **全職開發** | 2 人 | 1 前端 + 1 後端/AI |
| **兼職支援** | 1 人 | n8n + 測試 |
| **業務配合** | 1 人 | Amy 或 Kevin |

## Scope Change Management

### 範圍變更流程

```
範圍變更請求
     ↓
影響評估（時間、資源、風險）
     ↓
優先級判定
     ├── P0（必須）→ 納入當前階段
     ├── P1（重要）→ 下一階段
     └── P2（可選）→ Backlog
     ↓
決策記錄
```

### 範圍凍結點

| 階段 | 凍結時間點 | 說明 |
|------|-----------|------|
| **MVP 0.5** | 開發開始後 1 週 | 核心功能凍結 |
| **MVP 1.0** | 開發開始後 2 週 | 功能清單凍結 |
| **MVP 1.5** | 按需調整 | 可根據 1.0 反饋調整 |

---
