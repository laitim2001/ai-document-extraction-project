# ai-document-extraction-project - Epic Breakdown

## Table of Contents

- [ai-document-extraction-project - Epic Breakdown](#table-of-contents)
  - [Overview](./overview.md)
  - [Requirements Inventory](./requirements-inventory.md)
    - [Functional Requirements](./requirements-inventory.md#functional-requirements)
      - [1. 文件處理（Document Processing）](./requirements-inventory.md#1-文件處理document-processing)
      - [2. 審核與修正（Review & Correction）](./requirements-inventory.md#2-審核與修正review-correction)
      - [3. 規則管理（Rule Management）](./requirements-inventory.md#3-規則管理rule-management)
      - [4. Forwarder 管理（Forwarder Management）](./requirements-inventory.md#4-forwarder-管理forwarder-management)
      - [5. 報表與分析（Reporting & Analytics）](./requirements-inventory.md#5-報表與分析reporting-analytics)
      - [6. 用戶管理（User Management）](./requirements-inventory.md#6-用戶管理user-management)
      - [7. 多城市數據管理（Multi-City Data Management）](./requirements-inventory.md#7-多城市數據管理multi-city-data-management)
      - [8. 審計與追溯（Audit & Traceability）](./requirements-inventory.md#8-審計與追溯audit-traceability)
      - [9. 工作流整合（Workflow Integration）](./requirements-inventory.md#9-工作流整合workflow-integration)
      - [10. 系統管理（System Administration）](./requirements-inventory.md#10-系統管理system-administration)
      - [11. 對外 API（External API）](./requirements-inventory.md#11-對外-apiexternal-api)
      - [12. 成本追蹤（Cost Tracking）](./requirements-inventory.md#12-成本追蹤cost-tracking)
    - [NonFunctional Requirements](./requirements-inventory.md#nonfunctional-requirements)
      - [Performance（效能）](./requirements-inventory.md#performance效能)
      - [Security（安全性）](./requirements-inventory.md#security安全性)
      - [Scalability（可擴展性）](./requirements-inventory.md#scalability可擴展性)
      - [Reliability（可靠性）](./requirements-inventory.md#reliability可靠性)
      - [Integration（整合性）](./requirements-inventory.md#integration整合性)
      - [Accessibility（無障礙）](./requirements-inventory.md#accessibility無障礙)
      - [Maintainability（可維護性）](./requirements-inventory.md#maintainability可維護性)
      - [Internationalization（國際化）](./requirements-inventory.md#internationalization國際化)
    - [Additional Requirements](./requirements-inventory.md#additional-requirements)
      - [從 Architecture 提取的技術需求](./requirements-inventory.md#從-architecture-提取的技術需求)
      - [從 UX Design 提取的設計需求](./requirements-inventory.md#從-ux-design-提取的設計需求)
    - [FR Coverage Map](./requirements-inventory.md#fr-coverage-map)
  - [Epic List](./epic-list.md)
    - [Epic 1: 用戶認證與存取控制](./epic-list.md#epic-1-用戶認證與存取控制)
    - [Epic 2: 手動發票上傳與 AI 處理](./epic-list.md#epic-2-手動發票上傳與-ai-處理)
    - [Epic 3: 發票審核與修正工作流](./epic-list.md#epic-3-發票審核與修正工作流)
    - [Epic 4: 映射規則管理與自動學習](./epic-list.md#epic-4-映射規則管理與自動學習)
    - [Epic 5: Forwarder 配置管理](./epic-list.md#epic-5-forwarder-配置管理)
    - [Epic 6: 多城市數據隔離](./epic-list.md#epic-6-多城市數據隔離)
    - [Epic 7: 報表儀表板與成本追蹤](./epic-list.md#epic-7-報表儀表板與成本追蹤)
    - [Epic 8: 審計追溯與合規](./epic-list.md#epic-8-審計追溯與合規)
    - [Epic 9: 自動化文件獲取](./epic-list.md#epic-9-自動化文件獲取)
    - [Epic 10: n8n 工作流整合](./epic-list.md#epic-10-n8n-工作流整合)
    - [Epic 11: 對外 API 服務](./epic-list.md#epic-11-對外-api-服務)
    - [Epic 12: 系統管理與監控](./epic-list.md#epic-12-系統管理與監控)
  - [Epic Dependency Diagram](./epic-dependency-diagram.md)
  - [Epic Overview](./epic-overview.md)
  - [Epic 1: User Auth & Access Control](./epic-1-user-auth-access-control.md)
    - [Story 1.0: 專案初始化與基礎架構設定](./epic-1-user-auth-access-control.md#story-10-專案初始化與基礎架構設定)
    - [Story 1.1: Azure AD SSO 登入](./epic-1-user-auth-access-control.md#story-11-azure-ad-sso-登入)
    - [Story 1.2: 用戶資料庫與角色基礎架構](./epic-1-user-auth-access-control.md#story-12-用戶資料庫與角色基礎架構)
    - [Story 1.3: 用戶列表與搜尋](./epic-1-user-auth-access-control.md#story-13-用戶列表與搜尋)
    - [Story 1.4: 新增用戶與角色分配](./epic-1-user-auth-access-control.md#story-14-新增用戶與角色分配)
    - [Story 1.5: 修改用戶角色與城市歸屬](./epic-1-user-auth-access-control.md#story-15-修改用戶角色與城市歸屬)
    - [Story 1.6: 停用與啟用用戶帳戶](./epic-1-user-auth-access-control.md#story-16-停用與啟用用戶帳戶)
    - [Story 1.7: 自定義角色管理](./epic-1-user-auth-access-control.md#story-17-自定義角色管理)
    - [Story 1.8: 城市經理用戶管理](./epic-1-user-auth-access-control.md#story-18-城市經理用戶管理)
  - [Epic 2: Manual Invoice Upload & AI Processing](./epic-2-manual-invoice-upload-ai-processing.md)
    - [Story 2.1: 文件上傳介面與驗證](./epic-2-manual-invoice-upload-ai-processing.md#story-21-文件上傳介面與驗證)
    - [Story 2.2: 文件 OCR 提取服務](./epic-2-manual-invoice-upload-ai-processing.md#story-22-文件-ocr-提取服務)
    - [Story 2.3: Forwarder 自動識別](./epic-2-manual-invoice-upload-ai-processing.md#story-23-forwarder-自動識別)
    - [Story 2.4: 欄位映射與提取](./epic-2-manual-invoice-upload-ai-processing.md#story-24-欄位映射與提取)
    - [Story 2.5: 信心度評分計算](./epic-2-manual-invoice-upload-ai-processing.md#story-25-信心度評分計算)
    - [Story 2.6: 處理路徑自動分流](./epic-2-manual-invoice-upload-ai-processing.md#story-26-處理路徑自動分流)
    - [Story 2.7: 處理狀態追蹤與顯示](./epic-2-manual-invoice-upload-ai-processing.md#story-27-處理狀態追蹤與顯示)
  - [Epic 3: Invoice Review & Correction Workflow](./epic-3-invoice-review-correction-workflow.md)
    - [Story 3.1: 待審核發票列表](./epic-3-invoice-review-correction-workflow.md#story-31-待審核發票列表)
    - [Story 3.2: 並排 PDF 對照審核界面](./epic-3-invoice-review-correction-workflow.md#story-32-並排-pdf-對照審核界面)
    - [Story 3.3: 信心度顏色編碼顯示](./epic-3-invoice-review-correction-workflow.md#story-33-信心度顏色編碼顯示)
    - [Story 3.4: 確認提取結果](./epic-3-invoice-review-correction-workflow.md#story-34-確認提取結果)
    - [Story 3.5: 修正提取結果](./epic-3-invoice-review-correction-workflow.md#story-35-修正提取結果)
    - [Story 3.6: 修正類型標記](./epic-3-invoice-review-correction-workflow.md#story-36-修正類型標記)
    - [Story 3.7: 升級複雜案例](./epic-3-invoice-review-correction-workflow.md#story-37-升級複雜案例)
    - [Story 3.8: Super User 處理升級案例](./epic-3-invoice-review-correction-workflow.md#story-38-super-user-處理升級案例)
  - [Epic 4: Mapping Rules & Auto Learning](./epic-4-mapping-rules-auto-learning.md)
    - [Story 4.1: 映射規則列表與查看](./epic-4-mapping-rules-auto-learning.md#story-41-映射規則列表與查看)
    - [Story 4.2: 建議新映射規則](./epic-4-mapping-rules-auto-learning.md#story-42-建議新映射規則)
    - [Story 4.3: 修正模式記錄與分析](./epic-4-mapping-rules-auto-learning.md#story-43-修正模式記錄與分析)
    - [Story 4.4: 規則升級建議生成](./epic-4-mapping-rules-auto-learning.md#story-44-規則升級建議生成)
    - [Story 4.5: 規則影響範圍分析](./epic-4-mapping-rules-auto-learning.md#story-45-規則影響範圍分析)
    - [Story 4.6: 審核學習規則](./epic-4-mapping-rules-auto-learning.md#story-46-審核學習規則)
    - [Story 4.7: 規則版本歷史管理](./epic-4-mapping-rules-auto-learning.md#story-47-規則版本歷史管理)
    - [Story 4.8: 規則自動回滾](./epic-4-mapping-rules-auto-learning.md#story-48-規則自動回滾)
  - [Epic 5: Forwarder Config Management](./epic-5-forwarder-config-management.md)
    - [Story 5.1: Forwarder Profile 列表](./epic-5-forwarder-config-management.md#story-51-forwarder-profile-列表)
    - [Story 5.2: Forwarder 詳細配置查看](./epic-5-forwarder-config-management.md#story-52-forwarder-詳細配置查看)
    - [Story 5.3: 編輯 Forwarder 映射規則](./epic-5-forwarder-config-management.md#story-53-編輯-forwarder-映射規則)
    - [Story 5.4: 測試規則變更效果](./epic-5-forwarder-config-management.md#story-54-測試規則變更效果)
    - [Story 5.5: 新增與停用 Forwarder Profile](./epic-5-forwarder-config-management.md#story-55-新增與停用-forwarder-profile)
  - [Epic 6: Multi-City Data Isolation](./epic-6-multi-city-data-isolation.md)
    - [Story 6.1: 城市數據模型與 RLS 配置](./epic-6-multi-city-data-isolation.md#story-61-城市數據模型與-rls-配置)
    - [Story 6.2: 城市用戶數據訪問控制](./epic-6-multi-city-data-isolation.md#story-62-城市用戶數據訪問控制)
    - [Story 6.3: 區域經理跨城市訪問](./epic-6-multi-city-data-isolation.md#story-63-區域經理跨城市訪問)
    - [Story 6.4: 全局管理者完整訪問](./epic-6-multi-city-data-isolation.md#story-64-全局管理者完整訪問)
    - [Story 6.5: 全局規則共享機制](./epic-6-multi-city-data-isolation.md#story-65-全局規則共享機制)
  - [Epic 7: Reports Dashboard & Cost Tracking](./epic-7-reports-dashboard-cost-tracking.md)
    - [Story 7.1: 處理統計儀表板](./epic-7-reports-dashboard-cost-tracking.md#story-71-處理統計儀表板)
    - [Story 7.2: 時間範圍篩選](./epic-7-reports-dashboard-cost-tracking.md#story-72-時間範圍篩選)
    - [Story 7.3: Forwarder 篩選](./epic-7-reports-dashboard-cost-tracking.md#story-73-forwarder-篩選)
    - [Story 7.4: 費用明細報表匯出](./epic-7-reports-dashboard-cost-tracking.md#story-74-費用明細報表匯出)
    - [Story 7.5: 跨城市匯總報表](./epic-7-reports-dashboard-cost-tracking.md#story-75-跨城市匯總報表)
    - [Story 7.6: AI API 使用量與成本顯示](./epic-7-reports-dashboard-cost-tracking.md#story-76-ai-api-使用量與成本顯示)
    - [Story 7.7: 城市處理數量追蹤](./epic-7-reports-dashboard-cost-tracking.md#story-77-城市處理數量追蹤)
    - [Story 7.8: 城市 AI 成本追蹤](./epic-7-reports-dashboard-cost-tracking.md#story-78-城市-ai-成本追蹤)
    - [Story 7.9: 城市成本報表](./epic-7-reports-dashboard-cost-tracking.md#story-79-城市成本報表)
    - [Story 7.10: 月度成本分攤報告](./epic-7-reports-dashboard-cost-tracking.md#story-710-月度成本分攤報告)
  - [Epic 8: Audit Trail & Compliance](./epic-8-audit-trail-compliance.md)
    - [Story 8.1: 用戶操作日誌記錄](./epic-8-audit-trail-compliance.md#story-81-用戶操作日誌記錄)
    - [Story 8.2: 數據變更追蹤](./epic-8-audit-trail-compliance.md#story-82-數據變更追蹤)
    - [Story 8.3: 處理記錄查詢](./epic-8-audit-trail-compliance.md#story-83-處理記錄查詢)
    - [Story 8.4: 原始文件追溯](./epic-8-audit-trail-compliance.md#story-84-原始文件追溯)
    - [Story 8.5: 審計報告匯出](./epic-8-audit-trail-compliance.md#story-85-審計報告匯出)
    - [Story 8.6: 長期數據保留](./epic-8-audit-trail-compliance.md#story-86-長期數據保留)
  - [Epic 9: Automated Document Retrieval](./epic-9-automated-document-retrieval.md)
    - [Story 9.1: SharePoint 文件監控 API](./epic-9-automated-document-retrieval.md#story-91-sharepoint-文件監控-api)
    - [Story 9.2: SharePoint 連線配置](./epic-9-automated-document-retrieval.md#story-92-sharepoint-連線配置)
    - [Story 9.3: Outlook 郵件附件提取 API](./epic-9-automated-document-retrieval.md#story-93-outlook-郵件附件提取-api)
    - [Story 9.4: Outlook 連線配置](./epic-9-automated-document-retrieval.md#story-94-outlook-連線配置)
    - [Story 9.5: 自動獲取來源追蹤](./epic-9-automated-document-retrieval.md#story-95-自動獲取來源追蹤)
  - [Epic 10: n8n Workflow Integration](./epic-10-n8n-workflow-integration.md)
    - [Story 10.1: n8n 雙向通訊 API](./epic-10-n8n-workflow-integration.md#story-101-n8n-雙向通訊-api)
    - [Story 10.2: Webhook 配置管理](./epic-10-n8n-workflow-integration.md#story-102-webhook-配置管理)
    - [Story 10.3: 工作流執行狀態查看](./epic-10-n8n-workflow-integration.md#story-103-工作流執行狀態查看)
    - [Story 10.4: 手動觸發工作流](./epic-10-n8n-workflow-integration.md#story-104-手動觸發工作流)
    - [Story 10.5: 工作流錯誤詳情查看](./epic-10-n8n-workflow-integration.md#story-105-工作流錯誤詳情查看)
    - [Story 10.6: 文件處理進度追蹤](./epic-10-n8n-workflow-integration.md#story-106-文件處理進度追蹤)
    - [Story 10.7: n8n 連接狀態監控](./epic-10-n8n-workflow-integration.md#story-107-n8n-連接狀態監控)
  - [Epic 11: External API Service](./epic-11-external-api-service.md)
    - [Story 11.1: API 發票提交端點](./epic-11-external-api-service.md#story-111-api-發票提交端點)
    - [Story 11.2: API 處理狀態查詢端點](./epic-11-external-api-service.md#story-112-api-處理狀態查詢端點)
    - [Story 11.3: API 處理結果獲取端點](./epic-11-external-api-service.md#story-113-api-處理結果獲取端點)
    - [Story 11.4: Webhook 通知服務](./epic-11-external-api-service.md#story-114-webhook-通知服務)
    - [Story 11.5: API 訪問控制與認證](./epic-11-external-api-service.md#story-115-api-訪問控制與認證)
    - [Story 11.6: API 文檔與開發者支援](./epic-11-external-api-service.md#story-116-api-文檔與開發者支援)
  - [Epic 12: System Admin & Monitoring](./epic-12-system-admin-monitoring.md)
    - [Story 12.1: 系統健康監控儀表板](./epic-12-system-admin-monitoring.md#story-121-系統健康監控儀表板)
    - [Story 12.2: 效能指標追蹤](./epic-12-system-admin-monitoring.md#story-122-效能指標追蹤)
    - [Story 12.3: 錯誤告警配置](./epic-12-system-admin-monitoring.md#story-123-錯誤告警配置)
    - [Story 12.4: 系統配置管理](./epic-12-system-admin-monitoring.md#story-124-系統配置管理)
    - [Story 12.5: 數據備份管理](./epic-12-system-admin-monitoring.md#story-125-數據備份管理)
    - [Story 12.6: 數據恢復功能](./epic-12-system-admin-monitoring.md#story-126-數據恢復功能)
    - [Story 12.7: 系統日誌查詢](./epic-12-system-admin-monitoring.md#story-127-系統日誌查詢)
